# Docker

## 1.ä½¿ç”¨Ubuntuä¾†å®‰è£Docker

```tsx
sudo apt-get install docker.io
```

## 2. è§£é™¤å®‰è£

```tsx
sudo apt-get remove docker docker-engine docker.io containerd runc
```

## 3. Dockerå„²å­˜åº«å®‰è£

3.1 å®‰è£å®˜æ–¹çš„**repository**

```tsx
sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
```

3.2 GPG Key

```tsx
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

3.3 è¨­ç½®Docker **repository**

```tsx
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"
```

3.3 æ›´æ–°apt å¥—ä»¶

```tsx
sudo apt-get update
```

3.4 å®‰è£Docker

```tsx
sudo apt install docker-ce
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled.png)

3.4 æª¢æŸ¥å®‰è£ç‰ˆæœ¬,ç¢ºèªæ˜¯å¦å®‰è£æˆåŠŸ

```tsx
docker --version
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%201.png)

3.5 å°‡ä½¿ç”¨åŠ å…¥åˆ°Dockerç¾¤çµ„ä¸­

```tsx
sudo usermod -aG docker ${USER}
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%202.png)

## 4. ä½¿ç”¨Docker

4.1 å¾Docker Hub ([https://hub.docker.com/](https://hub.docker.com/)).å–å¾—å½±åƒæª”æ¡ˆ,å…¶ä¸­noeticç‚º20.ç‰ˆæœ¬

```tsx
sudo docker pull ros:**noetic**-ros-core
```

note: 

- problem
    
    ![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%203.png)
    
    <aside>
    ğŸ’¡ [https://stackoverflow.com/questions/44678725/cannot-connect-to-the-docker-daemon-at-unix-var-run-docker-sock-is-the-docker](https://stackoverflow.com/questions/44678725/cannot-connect-to-the-docker-daemon-at-unix-var-run-docker-sock-is-the-docker)
    
    </aside>
    
    ![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%204.png)
    

å®Œæˆä¸‹è¼‰å¦‚ä¸‹

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%205.png)

4.2 æª¢æŸ¥Dockerçš„å½±åƒæª”æ¡ˆ

```tsx
sudo docker images
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%206.png)

4.3 å•Ÿå‹•å®¹å™¨:noetic-ros-core

```tsx
sudo docker run -it ros:**noetic**-ros-core
```

é€²å…¥è™›æ“¬å®¹å™¨ä¸­

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%207.png)

4.4 æŸ¥çœ‹å®¹å™¨å…§éƒ¨ROSå¥—ä»¶

```tsx
rospack list
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%208.png)

4.5 çµæŸè™›æ“¬å®¹å™¨

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%209.png)

4.6 æŸ¥çœ‹å®¹å™¨

```tsx
docker ps -a
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2010.png)

4.7 åˆªé™¤å®¹å™¨

```tsx
sudo docker rm <CONTANER ID>
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2011.png)

4.8 ç¹¼çºŒä½¿ç”¨æŸå®¹å™¨

```tsx
sudo docker start -a -i <NAMES>
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2012.png)

4.9 å®‰è£actionlib_tutorialså¥—ä»¶åœ¨å®¹å™¨ä¸­

```tsx
apt-get update
apt-get install ros-**noetic**-actionlib-tutorials
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2013.png)

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2014.png)

æŸ¥çœ‹æ‰€æ–°å¢çš„å¥—ä»¶

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2015.png)

4.10 å„²å­˜è®Šæ›´æ–¼å®¹å™¨ä¸­

```tsx
sudo docker commit cfef40191d42 ros:**noetic**-ros-core
```

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2016.png)

å¾æ–°é–‹å•Ÿdocker ros:**noetic**-ros-coreå¯ä»¥çœ‹åˆ°ä¸Šæ¬¡å®‰è£çš„å¥—ä»¶é‚„åœ¨

![Untitled](Docker%200a1b2c65545742ad8c0fa6ffc9fe6475/Untitled%2017.png)

Reference:

<aside>
ğŸ’¡ [https://subscription.packtpub.com/book/iot-and-hardware/9781838649326/1/ch01lvl1sec10/introduction-to-docker](https://subscription.packtpub.com/book/iot-and-hardware/9781838649326/1/ch01lvl1sec10/introduction-to-docker)

</aside>